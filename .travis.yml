language: node_js
node_js:
- 'lts/*'
sudo: required
before_install:
- npm install -g casperjs
script:
- npm start
- npm test
- kill $(jobs -p) || true
after_success:
- bash deploy.sh
env:
  global:
  - secure: YKrVtXBEgyx11SmFiMLP8cpnnmftg8i87mZEQyBt95Z77xQeTJw7mNgKgMacfzBv8bNsOE2GfwJoWySnlk2Rt/TgL12pJ4XTMBt0RSTApxcDtfWQ/Vn33RlddYRADBs16i3+r1/P3P05JtuVR3ZV8m9UrmBBOr13RgVKtNeUG3ko0IfO1fD9zA+zyKCh6Q+7KAyn6g90UMHPHfEGvd1MZUtYvknEbhmI5dm+84r79AbO9uA3Xna3n4njaV0PeHnKUfwdikHeP0PzDsTLXo6iCleLMQX2Iz6kJ0vACnvBUUHRZdVbGxj/JlusJiWQUAVYVm4nIBLv/4ChI1vTGmCTSWcStY/mpkgW57EL7hRfNFb3iJycpBQle0PilRtMvbeCxbC82d2mKjmoYtAHswKrS7aEUUvbCImbe88h8JiWxNRYyKg5br6aSkDFhBVK+/QpJl8tuANltjrw8U9rvnxJjvVntEdiuSqviGgI5/h0gpcN5D7za19OQ6Aq1H799ApigXAHzAvUwv21cD7pwfOss8HzER6iROrSRn5yKsvHFU2XuJyoXDp41JMkKkU0f0mSH4iLTmxfndFF1igEz78sjfdXZvL604CzD8xgEEtqnHDuJnNO5n2LzQDTvLdsVW1auPMiU0OcQ3bdrKRFE0TuZg1L88Bvy3v6u7ts90EpcJA=
  - secure: F3ypN3mzGu8QC2MlzlPQRyZdN4Eavh9U7f5eMR69JEJXqu8YXzZ+zs0zROONvxLbAT2O8+QVsjor9/czytSCGuzFmEgAr6BmnwuWEynLVTtypPsr+8hidUyyM6OHf1Mh86PmjHF1qDfeA7xKlOz1xajCNez+AeyZcEXruvXvdG5Lt6zT2hjc22nE1i3J0HMTiHBbwa7TLlkO6lOegcio5LXufrqyuWc5r9035AO8V3QQq5xfhikX46jR2ZiuRiftmpdyh/X40fEbXaU9IxOTTQbTeewpUkbw80YDYEl/fGFuNqQNLIcZDVdx2r0EaW7S0EsbR2QMm7KcusA7DoZC5UPlz5zBZbUeheGGuQPSt8RbneDKJH99wFaqMjYvrS8LSWvpZhfPBKN5zQgi2KiFfSal4I8WkFUuqpZ7V/TXggzTKhUm1/g2T4aX9QY1yysCwI1HZsJbc0CBfg+vr4bN5c2Alt298pZBIXssLaw67rI9yJtjMEap6us3myqVDR5UdMGINhSNQdYpfnqTSLRQUOXZZSjI3MYmj2LTFC/tg5053jAkUE7wn1wT1xXERE6ou1+rzaEGspFM/rJ3ChUpHouwEPZcTyWcMdxke6/GTWeY3VO9IMi1t4EE0LtCtGPv0PMLabcrMOqi8id2ADdWde9XXWwpR9efvH9mauVTw64=
  - secure: AFExIlPf2sEeQyA/aUXQ01eVtKwUE/zmz239NDC+/4Loc6mbkqMxi6nJcjc9w3SDEsHpmA12H/6Y/Z5wPkrKvUw66ptLyKDHiddwJ8nm0I1Fodg1sOCWdf0Asog/7lOmNG/VDhyOLC0KYqquvUIimFgMjuMvqVXW3O1OZAGAyfT1Q2HO8G/FYDZidetmoZh6UvQNwH/lWhCssO9nsCy1W7+2DOs9jFQ+eJZt2myZb+Rkanb4zGFPjeoNRGvJ8xfyv4NTvbsXTcLgxyaRDIX9uLhP2MH51hl1s6DM1QjP2DfZAEhuJXBZAu7mXgTN0tuajDuzXN439pkqpgWBcspEm3pM0pqkpPx6l7/IE/UZ7WWbgvAgsCksMvKoi30iZd3Mz5CAxmZLkhTUCwI2Pzzxnzsp9SRzsqCcZnyPqz2HPbwAxZtipjIeYCd1ow8Go9COs3wFMid3eUbDCtgLWHCp2JBTUlEMuDfVLrL68fjT+Vn/d0ZAMw3pYNOoq/HC/9ImZ55x7VFZbSpEEwnUaGam+/PTSGbbF+THeSQ80Eqbqk1Z7PLus+Bzuh3cgWB/Jla1Zukz8Dgke9yfDDs+OstaGootAzFBMHBXjt9DPoZUTk6G8V4zrcpjqx0o9hg8DillU6hJbZ0mGg5xO1uuw3SsXssMdAXRcmx9wHenPLyseQU=
  - secure: R05Obpf4rRbI95sorpZvAVkUwljDq1CqwFfMnYIIEpa9kP+M8JLdTIzVUZuBaTOQ7oxm/LqnvPs+llAqlbdgZyW0we7ZAnD5t2XXkT8lilesYSBS4mcAGDGfIx9tSOjKjufhdE+cOh/Owk/HVCtLJXSa54VglUnKEWW0F8qB/LrUH0IGXN2GkXMDxL0W9FONyyLO6S5f5jMTbTgKTdH3jGl0M43zLlmLMwJZh8IQ5/2ZZT1x6EF4u/j4617dptf4ie6zTz2+bOqMYQQO/tmv/t/KwxlDn0JDlHIpwH7n6j78S16l4lMe8R0/GWF2yz0rXKTOeo+1orFEyb1VtTuaH2UvF59Gw6o8ZLQ3p9EX32Yltgfc41LgEmX8Gsnjk5TETq5Loj4tsmf3OXuouqn8XoRBcUScm9I0l5ZlXhLLK0aH9TsA01nd92FTCOQh4oaLQ3qr0KPrsrgGXl74elOBlumJ5rE4zCzrCb5Hunq3rBiHF8v+mq/L9KETFZwcLOoYvwZxqxJV6VGWDbWSI0iIpr3td416M5MuVSc6pZlOBgOX+V68FrANL9s7zQdDtodJ79S79nJrv5nxT5um1YwMgl4OoMgLbOzohmBYK3uWvyVAZYuS9fGv7mZgAYPD6frs/vP76JiYMu01qV1PfVPWLIVAR1dDsupd69gqX8dnKF8=
  - secure: QgNRia6DVQinIP6ndYMyv6MJ3V7kj4tmJrnOhxBa+ZYIhbLa9KNINtmoPA3c1HkiUUJ2aITlLOjycx01S9CLC01Lg19DDTiL9E9lnGXbymh7MWhrL7kvUkWRbPV4xQYN79cLwKXU+WB/YVOM5s/DH7v70MDeKrgIP7RSDuP+LZ1a/Olcf91kw05pfzPi0YSaFxuZ27xZWoav9THWZzjIoUe7tn7xiW0NqRGyaKpnNN16qtFIX/S3iz/98OqOE0/cEfJx6pLz/fjPkvd7EXINtzGKe3eS2OVgq2eeY/ekgJxPuZQeLlN3BkLg/2T0N2EMCWYk32V8OjkBZVFecszNWtFC4Kz4BYd5ZuK8f+K5a5A1ref3XOx7jJdy2MgwasuZsgc71uGPejNxPGlbQPiSUKESWUWqdcwCO6vFuKgQdodZ7YEaeCPNLsIGXwM4tcYUMB23CWFey4TbpC66xeVTcrz9bBtsK+mLf6vU7aGMPGjW4NHn0tM0F5WxmC75lvy/lIAYUFSTexHJkOvxIfnHi//xw0Kiu2mCF6L/MsLOpeaa7xowH1ClIi88ivhvcezFHJLWNcmWGtaPkV+fos/2yxBj0DZwupDJgopPrpzae/4ROnDWGdiwfGiQB2gcdVEL6UQV4gGB+lGc7TShfM2xhSo9ctyZA/jbMxCC74GeU/0=
  - secure: VcR8nOIqsY1cfspnTP/4Hms9j4NEbMLq26Tpcf7UqVRbRrLsNZNBCLJkxC0sagB9sgw3/VBYX1QLIscnujOVeWP0wrTPgbfB7aHSw18e3ASTe9SK4os0/ID3ES/c5xFi/dxjvXohDiR9Bcr9fqI6A3Zmw4DPWfhfrMU64WYSNK0o7pLF59EOA18bnuIFeKFnvfuzMlpGgC1X1IHs7xXJViM4aO4b4tUHfMJmJVQqUGwKUeySWgpqbY0UcgfxNPKj5qon5qdNa0s5eDObs1fb/cD9XKFixT31zZT3S94tcyIQYDJNq16OtzWEywnhhdkEqB0yNaOrlIFOg/xL/nsZRBTeG1NhBrznfbSfjaRTnlizLBesPCLGSomNhIlB0xbTIuAxp6KK1LRKT7le3V0th8SPFA1nQnQsRRNRUdWjnlpqpSmYJSthed5v6WhO1BO/XW6Dtd/08WoypVyx895iE3ZVXUVrwjphpMt0r2JdbRR2Z7jnpWWD+7yt6vagHdnU8WEEPwEfGc0PjG4UEcsBBUggrawKyEivnDuZf/0Vfpy7gsD+U7v3dbzF9HTGHct0WZcnuWWb2zOZmcjSFTEW+SoAzvgRtLIOkQnSAA00dkR8e1aoCAeBBuDzb+XxRIes1vpKacpAWpJall2ipsJFH1sTP0ZKeJ8HAVpb8X5PsBI=
  - secure: gYALBrT/KWhHdWUIYJG69PncbfoDy9YpWd/CaxCVvgTofFmxrTJyAGjj5gu+SfaKXWVJRnk+cMme0Lu/dwLEQw2+8Pb1SqRAPPZGlKWZdcDCCqEP1lImKt1rIXa7Brx0qVuLDMra5N1otMr2/NNSfd36201KbN/vxivli4G3hbCrls2M7xvOdIbqga7VVvXcWLqwJ03yWl0AEnoadIS4cS2leZBdQckSEj+VIyDYf2LL0o4LbjVnM3fYqrJ2cQLRAM7UDpMkLqJpjIFaY4z82FEzkHc2UXyPdQmDYXasiGOFQH1o1Wuwskuz2fRAH4GJYTB2TCpsnh0eMwHukXnmG0PNB8mey8zmUP2QalG8MyB+prlCYsz4r3fRQUsTFlA8+RajP8JIu1pATdF1y+zcteeRASUDmgUTW0CMmL+2MzU+Us420J8CMSPwG0wzypdy/Ntiq4TQbCgkUDmWzF2jmRiwWd+r12ZT9/Oby4FYtIeXnVxAU0lZHmDBiRtWlLoxc0OW0wkf1KmqxJukC50WOEhC7c/h58zY2f6dAzBmbOwLxzwirpJHFU3MNyWJAcv35kbALhaRq/xiBUc7QyQPaRBo9WfTJWkEJ+chr2U1zk7OGjSjhJwzuUjdRCORpoRQVM1e6II/5x/n8PkPrE9fkT4EhjRKd53t/NNLaJWyerI=
  - secure: NUQ89vnOgc5IT+S0APQO5i5wMF/4eDoscD+Ob+MhlU7c3DoKMRIigdwtYssf1+DA6zUS/KZKVWiN1+onl+ryPbTZeKWzvujxO3o9JBiBF+/lGo9t5Qitfu6nHHJERTcf0Lah+ilql35vez0rQUDKjo5t89hRpjPAFzI5M03njZTtpXydjR4URu07ZwBmpDSUV9ODJQh41QKT/D5OssaKcFqzDAvi1591eMloOb6sMi+z6sIBhuPY3ri+594Fb8+a08GA4CoS6bzE+lIDyih38HTd7/97GZ3iptsmALppQvwgZJEWeUfn8LHiRfMVIdFyjFyLxUlrAxomIph5NIwLGgXY/ITVuPLjMYml3/R1fQG4eaAW2qv8F0DMaDGxMIBRoJgQGUdJw3y7WqugBwOIM7C1wfJUHYkxkTu2KSxF8lvo24NKgmQmIOz3feXQ5rlwKYSSR97A9O+4s7T8hDiOlZro274PJD4G6WDOeP70+lHwDoUZ2iMnY589Fxx1rfHPp73yJ9W9ffy84LiL9UTbUBD2ZCOdk9Cp9RCkzZWLECi2fGtuwjLVrC7lQE2yPVcjhVJYrrnwvD5gBzXQPUzqmAQzRKRrBy/WL1AUfD+ZCvAN+KVrDD8qrtG4YpHUFYsnGgL/JviE87+dKRHQg5jsKYlRaPz4eXZgQbduLKOYOsA=
  - secure: fez5uC6dULzQe/CiC2AWVDcle2SMu7ul31z+QzHLOBlILR1H9r90rlKi8/RB2ydS3XUsR4NDw/Gy2QrgWqQMS9FB5Qia872TS4Q2q6XI2n0/vB/HNogciMWU2QEEntclp1kBp4x5xJcQc0EYKhiXC/ld82rZxfUbdryjCuZVV9xEK0dV2u19bgsBXk2LU1kbSGPCQvCCvh0aFIAwmxYqUnGP6QBHCFRdEAWOxJIHzDZWZ12Ep4uZ8vvbVjEfyDsz++VZXNFkTEQQiw1EdSjtaoSKL6OOtFsd2x+wt61OA5JQ4m4OY99wl/SM58bnAOp3WJTXFsDtL/dF8Dfv+Ga77Rj4YPUNc1OPR1OD4ZToNjDgKxwWThZeYrT8HA2tQwNGzcuUGEvXnHCFmcft809eckVB9v18YmmOuQD6UsXQxnO5gihq5TgNJ3IUlWsjVLIsA7gl8aWRxntdwT8PGyLT1Qi6r5CsShHwoZL7+6tm8U5NdTwkKmfDUIlZt07NlyfkuH2ovB1MMHuje4XJtk5y/iAuCgGcMzvOxrjy825/IrrBpLmVwRvMtrun9HWT61pP4FLnELcuTs7cv4PTV8xnnyUsTrsqjgP56DX2G4O2RcRMIR1XDulKyTaXFPpMzGxMj5KoFY0WXngZy2fYxjylLEeFutcIp0VHSoRW2eMrmnw=
